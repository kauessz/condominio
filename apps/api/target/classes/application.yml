spring:
  profiles:
    active: dev

  web:
    cors:
      allowed-origins: "http://localhost:5173"
      allowed-methods: "*"
      allowed-headers: "*"

  datasource:
    url: "jdbc:postgresql://127.0.0.1:5432/condo_saas"
    username: "postgres"              # alinhado com seu .env do compose
    password: "postgres"              # alinhado com seu .env do compose
    driver-class-name: org.postgresql.Driver

  flyway:
    enabled: true
    locations: classpath:db/migration
    repair-on-migrate: true
    out-of-order: true
    ignore-migration-patterns: "*:missing"

  jpa:
    hibernate:
      ddl-auto: validate               # use validate/create/update conforme seu fluxo
    properties:
      hibernate:
        format_sql: true
    database-platform: org.hibernate.dialect.PostgreSQLDialect

server:
  port: 8080

app:
  jwt:
    issuer: condo
    # Em dev, pode deixar assim ou externalizar via argumento (ver abaixo)
    secret: base64:YVD/WK/nr7LjsYsXjKqTfbEtaOTmwX6VE+obKhI0gVY=
    expirationMinutes: 120

logging:
  level:
    com.zaxxer.hikari: DEBUG
    org.springframework.jdbc.datasource: DEBUG
    org.flywaydb.core: DEBUG
    # Se quiser detalhar o motivo do 403:
    org.springframework.security: DEBUG